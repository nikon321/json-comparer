<!DOCTYPE html>
<html>
<head>
<title>Test</title>
<link rel="stylesheet" type="text/css" href="ace.min.css">
<script type="text/javascript" src="jquery/jquery.js"></script>
<script type="text/javascript" src="compareJSON.js"></script>
<script type="text/javascript" src="jsrender.min.js"></script>
</head>
<body>
<script type="text/x-jsrender" id="tree">
{{if prop.type === "text"}}
<div class="tree-item {{:prop.compare_options}}">
	<div class="tree-item-name">
        <i class="ace-icon ace-icon fa fa-file-text-o"></i> {{:key}}
        <i class="ace-icon ace-icon fa fa-arrow-right"></i>
        <div class="data-text">{{:prop.data}}</div>
    </div>
</div>
{{else prop.type === "object" || prop.type === "list"}}
<div class="tree-folder {{:prop.compare_options}}">
    <div class="tree-folder-header">
        <i class="ace-icon tree-minus"></i>
        <div class="tree-folder-name">
            <span class="badge badge-info" style="font-weight: bold">{{:key}}</span>
        </div>
    </div>
    <div class="tree-folder-content">
        {{props prop.data}} {{include tmpl = "#tree" /}} {{/props}}
    </div>
</div>
{{/if}}
</script>
<script type="text/x-jsrender" id="preview_html">
	{{props :}} {{include tmpl = "#tree" /}} {{/props}}
</script>
<div class="tree-con">
	<div class="left">
		<div class="tree tree-selectable" id="__tree">
        </div>
	</div>
	<div class="right"></div>
</div>
<script type="text/javascript">
// var obj = {
// 	type: "object",
// 	data: {
// 		"type": "text",
// 		"data": "ccccc"
// 	}
// }
//console.log(json2Str(obj));
// var obj = {
//   "PbUcParam": {
//     "type": "object",
//     "data": {
//       "items": {
//         "type": "list",
//         "data": [
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "calluc_chk_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://125.91.5.45:8000/chkdomain.php?uc_param_str=dnfrve"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "navi_icon_addr"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://mynavi.ucweb.com/geticon.php"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "ft_share"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://share.ucweb.com/share/share/index?uc_param_str=bidnfrpflassve"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "Voice_Address"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://us.vocmd.ucweb.com/mimi"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "uc_siri"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://us.vocmd.ucweb.com/mimi"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "intl_rss_new"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://read.ucweb.com/rss_reader/rss_reader/index?uc_param_str=frvednbilanacp"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "intl_rss_home"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://read.ucweb.com/rss_reader/rss_reader/index?uc_param_str=dn"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "intl_rss_channels"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://read.ucweb.com/rss_reader/rss_reader/channels?uc_param_str=dn"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "advise_menu"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://feedback.uc.cn/self_service/wap/index?instance=EN&uc_param_str=einibicppfmivefrsiutla"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "uclx_server_addr"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://us.uclx.ucweb.com:8097/uclx_agent/"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "flag_client_info"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "on"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "Default_Home_Screen"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "1"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "op_regserver_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://api.open.uc.cn/cas/ucbrowser/register?register_type=email&client_id=73&uc_param_str=frpfvesscpmilaprnisieiut"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "op_loginserver_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://api.open.uc.cn/cas.clientLogin"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "op_forgetpsw_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://id.uc.cn/security/forgotpassword/index?uc_param_str=nieisivefrpfbimilaprligiwiut&appId=73"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "op_logout_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://api.open.uc.cn/cas.clientLogout"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "op_useracnt_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://api.open.uc.cn/cas/?uc_param_str=frpfvesscpmilaprnisieiutst&target_client_id=4&target_redirect_uri=http%3A%2F%2Fid.uc.cn%2F%3Fuc_param_str%3Dfrpfvesscpmilaprnisieiut&client_id=73"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "cloud_help_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://cloud.ucweb.com/help/sync?display=phone&pl="
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "cloud_server"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "browser.cloud.ucweb.com/sync"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "liteua"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "UCWEB/2.0 (MIDP-2.0; U; Adr 2.3.7; en-US; HUAWEI-U8850) U2/1.0.0 UCBrowser/8.7.0.315 U2/1.0.0 Mobile"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "dl_stat"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "1"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "url_static"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "1"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "addon_api_verify_url"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://addon.ucweb.com/api/verify"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "preload_read_mode_whitelist_switch"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "1"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "vip_download_interurl1"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://en.ucsec1.ucweb.com"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "vip_download_interurl2"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "http://en.ucsec2.ucweb.com"
//               }
//             }
//           },
//           {
//             "type": "object",
//             "data": {
//               "ptype": {
//                 "type": "text",
//                 "data": " "
//               },
//               "pname": {
//                 "type": "text",
//                 "data": "u3_smemopt"
//               },
//               "pvalue": {
//                 "type": "text",
//                 "data": "1"
//               }
//             }
//           }
//         ]
//       }
//     }
//   }
// }
obj.test = {};
obj.test.data = obj.data;
obj.test.type = obj.type;
var text = $.templates("#preview_html").render(obj);
$("#__tree").html(text);
console.log(text);
</script>
</body>
</html>